#ifndef _FIXED_H_
#define _FIXED_H_

#include <SDL2/SDL_stdinc.h>

typedef Sint32 Sfix32;

#define SFIX32(I, F) ((I << 16) | (F))

#define SFIX32_MUL(A, B) (A * B >> 16)

const Sfix32 sinlut[360] = {
    0,      1143,   2287,   3429,   4571,   5711,   6850,   7986,   9120,
    10252,  11380,  12504,  13625,  14742,  15854,  16961,  18064,  19160,
    20251,  21336,  22414,  23485,  24550,  25606,  26655,  27696,  28729,
    29752,  30767,  31772,  32767,  33753,  34728,  35693,  36647,  37589,
    38521,  39440,  40347,  41243,  42125,  42995,  43852,  44695,  45525,
    46340,  47142,  47929,  48702,  49460,  50203,  50931,  51643,  52339,
    53019,  53683,  54331,  54963,  55577,  56175,  56755,  57319,  57864,
    58392,  58903,  59395,  59870,  60326,  60763,  61183,  61583,  61965,
    62328,  62672,  62997,  63302,  63589,  63856,  64103,  64331,  64540,
    64729,  64898,  65047,  65176,  65286,  65376,  65446,  65496,  65526,
    65535,  65526,  65496,  65446,  65376,  65286,  65176,  65047,  64898,
    64729,  64540,  64331,  64103,  63856,  63589,  63302,  62997,  62672,
    62328,  61965,  61583,  61183,  60763,  60326,  59870,  59395,  58903,
    58393,  57864,  57319,  56755,  56175,  55577,  54963,  54331,  53684,
    53019,  52339,  51643,  50931,  50203,  49460,  48702,  47930,  47142,
    46341,  45525,  44695,  43852,  42995,  42125,  41243,  40348,  39440,
    38521,  37590,  36647,  35693,  34728,  33753,  32768,  31772,  30767,
    29752,  28729,  27696,  26656,  25607,  24550,  23486,  22414,  21336,
    20251,  19161,  18064,  16962,  15854,  14742,  13625,  12505,  11380,
    10252,  9121,   7986,   6850,   5712,   4571,   3430,   2287,   1143,
    0,      -1144,  -2287,  -3430,  -4572,  -5712,  -6851,  -7987,  -9121,
    -10252, -11381, -12505, -13626, -14743, -15855, -16962, -18064, -19161,
    -20252, -21337, -22415, -23486, -24551, -25607, -26656, -27697, -28729,
    -29753, -30768, -31773, -32768, -33754, -34729, -35694, -36648, -37590,
    -38521, -39441, -40348, -41243, -42126, -42996, -43852, -44696, -45525,
    -46341, -47143, -47930, -48703, -49461, -50204, -50931, -51643, -52340,
    -53020, -53684, -54332, -54963, -55578, -56176, -56756, -57319, -57865,
    -58393, -58904, -59396, -59871, -60327, -60764, -61184, -61584, -61966,
    -62329, -62673, -62998, -63303, -63590, -63857, -64104, -64332, -64541,
    -64730, -64899, -65048, -65177, -65287, -65377, -65447, -65497, -65527,
    -65536, -65527, -65497, -65447, -65377, -65287, -65178, -65048, -64899,
    -64730, -64541, -64332, -64104, -63857, -63590, -63303, -62998, -62673,
    -62329, -61966, -61584, -61184, -60765, -60327, -59871, -59396, -58904,
    -58394, -57865, -57320, -56756, -56176, -55578, -54964, -54332, -53685,
    -53020, -52340, -51644, -50932, -50204, -49461, -48703, -47931, -47143,
    -46342, -45526, -44696, -43853, -42996, -42126, -41244, -40349, -39441,
    -38522, -37591, -36648, -35694, -34730, -33754, -32769, -31773, -30768,
    -29754, -28730, -27698, -26657, -25608, -24551, -23487, -22415, -21337,
    -20253, -19162, -18065, -16963, -15855, -14743, -13627, -12506, -11381,
    -10253, -9122,  -7988,  -6851,  -5713,  -4572,  -3431,  -2288,  -1145};

const Sfix32 coslut[360] = {
    65536,  65526,  65496,  65446,  65376,  65286,  65176,  65047,  64898,
    64729,  64540,  64331,  64103,  63856,  63589,  63302,  62997,  62672,
    62328,  61965,  61583,  61183,  60763,  60326,  59870,  59395,  58903,
    58393,  57864,  57319,  56755,  56175,  55577,  54963,  54331,  53683,
    53019,  52339,  51643,  50931,  50203,  49460,  48702,  47930,  47142,
    46340,  45525,  44695,  43852,  42995,  42125,  41243,  40348,  39440,
    38521,  37589,  36647,  35693,  34728,  33753,  32768,  31772,  30767,
    29752,  28729,  27696,  26655,  25607,  24550,  23486,  22414,  21336,
    20251,  19160,  18064,  16962,  15854,  14742,  13625,  12504,  11380,
    10252,  9120,   7986,   6850,   5711,   4571,   3429,   2287,   1143,
    0,      -1144,  -2288,  -3430,  -4572,  -5712,  -6851,  -7987,  -9121,
    -10252, -11381, -12505, -13626, -14743, -15855, -16962, -18065, -19161,
    -20252, -21337, -22415, -23486, -24551, -25607, -26656, -27697, -28729,
    -29753, -30768, -31773, -32768, -33754, -34729, -35694, -36648, -37590,
    -38521, -39441, -40348, -41244, -42126, -42996, -43853, -44696, -45526,
    -46341, -47143, -47930, -48703, -49461, -50204, -50931, -51643, -52340,
    -53020, -53684, -54332, -54964, -55578, -56176, -56756, -57320, -57865,
    -58393, -58904, -59396, -59871, -60327, -60764, -61184, -61584, -61966,
    -62329, -62673, -62998, -63303, -63590, -63857, -64104, -64332, -64541,
    -64730, -64899, -65048, -65177, -65287, -65377, -65447, -65497, -65527,
    -65536, -65527, -65497, -65447, -65377, -65287, -65178, -65048, -64899,
    -64730, -64541, -64332, -64104, -63857, -63590, -63303, -62998, -62673,
    -62329, -61966, -61584, -61184, -60764, -60327, -59871, -59396, -58904,
    -58394, -57865, -57320, -56756, -56176, -55578, -54964, -54332, -53685,
    -53020, -52340, -51644, -50932, -50204, -49461, -48703, -47931, -47143,
    -46342, -45526, -44696, -43853, -42996, -42126, -41244, -40349, -39441,
    -38522, -37591, -36648, -35694, -34729, -33754, -32769, -31773, -30768,
    -29753, -28730, -27697, -26657, -25608, -24551, -23487, -22415, -21337,
    -20252, -19162, -18065, -16963, -15855, -14743, -13626, -12506, -11381,
    -10253, -9122,  -7988,  -6851,  -5713,  -4572,  -3431,  -2288,  -1145,
    -1,     1143,   2286,   3429,   4571,   5711,   6850,   7986,   9120,
    10251,  11379,  12504,  13625,  14742,  15854,  16961,  18063,  19160,
    20251,  21336,  22414,  23485,  24549,  25606,  26655,  27696,  28728,
    29752,  30767,  31772,  32767,  33753,  34728,  35693,  36647,  37589,
    38520,  39440,  40347,  41242,  42125,  42995,  43851,  44695,  45524,
    46340,  47142,  47929,  48702,  49460,  50203,  50930,  51642,  52339,
    53019,  53683,  54331,  54962,  55577,  56175,  56755,  57318,  57864,
    58392,  58903,  59395,  59869,  60326,  60763,  61183,  61583,  61965,
    62328,  62672,  62997,  63302,  63589,  63856,  64103,  64331,  64540,
    64729,  64898,  65047,  65176,  65286,  65376,  65446,  65496,  65526};

#define SFIX32_SIN(T) sinlut[T]
#define SFIX32_COS(T) coslut[T]

#endif /* _FIXED_H_ */
